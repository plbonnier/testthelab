name: End-to-end tests
on: push
jobs:
  cypress-run:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Install dependencies
        run: |
          npm i
          npm i cross-env
          cd backend
          npm i
          cd ..
          cd frontend
          npm i
          cd ..
          npm run dev-back
          npm run dev-front
          cd frontend
          npm run cy:run         
